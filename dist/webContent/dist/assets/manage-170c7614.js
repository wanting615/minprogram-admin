import"./base-cd32b84e.js";/* empty css                   */import{b as v}from"./el-popper-b5858c2e.js";import{E as V,a as x}from"./el-table-column-437fbde3.js";import"./el-checkbox-35a1a367.js";import"./el-scrollbar-5348100a.js";import{E as C}from"./el-switch-cc7d5b54.js";import{E as k}from"./el-divider-cd208a5f.js";import{E as u,b as L}from"./el-input-1a79293a.js";import{e as U,g as B}from"./doc-d66a05c5.js";import{_ as N}from"./drawer.vue_vue_type_style_index_0_lang-a609a8b6.js";import{d as S,r as F,o as d,c as m,A as p,e as t,w as r,b as $,t as _,F as f,E as z,g as A}from"./index-ceed6204.js";import"./scroll-816e2e50.js";import"./index-9a9ec8d5.js";import"./el-form-item-6a97d37a.js";/* empty css                */import"./index-30941d73.js";import"./vnode-d15802f4.js";const M={class:"container"},P=["src"],j={style:{"margin-left":"10px"}},q={style:{"margin-left":"10px"}},se=S({__name:"manage",setup(G){const w="https://wanting615.com.cn/",a=F({docTypeList:[],rowData:null,docTypeDrawer:!1}),b=o=>{a.docTypeDrawer=!0,a.rowData=o},y=o=>()=>new Promise((s,n)=>{U(o.id,o.disabled===1?0:1).then(l=>{l.status?(s(!0),u.success(l.message),c()):(n(new Error("Error")),u.error(l.message))})}),c=()=>{B().then(o=>{a.docTypeList=o.data})};c();const g=o=>{c()};return(o,s)=>{const n=V,l=L,h=k,E=C,T=x,D=v;return d(),m(f,null,[p("div",M,[t(D,{style:{padding:"8px","background-color":"#fff"}},{default:r(()=>[t(T,{data:a.docTypeList,border:!0,stripe:!0,style:{width:"100%"},"row-class-name":"table"},{default:r(()=>[t(n,{label:"文档类型图标"},{default:r(e=>[p("img",{src:$(w)+e.row.iconUrl,width:"30"},null,8,P)]),_:1}),t(n,{label:"文档类型"},{default:r(e=>[p("span",j,_(e.row.name),1)]),_:1}),t(n,{label:"文档子类型"},{default:r(e=>[(d(!0),m(f,null,z(e.row.contentTypes,i=>(d(),m("span",q,_(i),1))),256))]),_:1}),t(n,{label:"操作",width:"120"},{default:r(e=>[t(l,{size:"small",type:"primary",link:"",onClick:i=>b(e.row)},{default:r(()=>[A("编辑")]),_:2},1032,["onClick"]),t(h,{direction:"vertical"}),t(E,{modelValue:e.row.disabled,"onUpdate:modelValue":i=>e.row.disabled=i,"active-value":1,"inactive-value":0,"inline-prompt":"","active-text":"启用","inactive-text":"禁用","before-change":y(e.row)},null,8,["modelValue","onUpdate:modelValue","before-change"])]),_:1})]),_:1},8,["data"])]),_:1})]),t(N,{modelValue:a.docTypeDrawer,"onUpdate:modelValue":s[0]||(s[0]=e=>a.docTypeDrawer=e),"doc-type":a.rowData,onCloseDarwer:g},null,8,["modelValue","doc-type"])],64)}}});export{se as default};
